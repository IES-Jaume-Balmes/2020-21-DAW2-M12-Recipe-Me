_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{rKL5:function(e,a,n){"use strict";n.r(a),n.d(a,"default",(function(){return p}));var t=n("Ff2n"),r=n("rePB"),o=(n("q1tI"),n("7ljp")),l=n("CXQJ"),i=n.n(l),s=n("UY+1"),c=n("R9PV");function d(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function u(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?d(Object(n),!0).forEach((function(a){Object(r.a)(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}var m=function(e){return Object(s.withSSG)(i()({filename:"C:/Users/frank/proyecto_final_ciclo/documentacion/pages/entrega_1/frontend/Aplicacion.md",route:"/entrega_1/frontend/Aplicacion",meta:{name:"Aplicacion"},pageMap:[{name:"entrega_0",children:[{name:"entrega_0",route:"\\entrega_0\\entrega_0"},{name:"instrucciones",children:[{name:"logginForm_symfony",route:"\\entrega_0\\instrucciones\\logginForm_symfony"},{name:"meta.json",meta:{logginForm_symfony:"Loggin Form",registerForm_symfony:"Register Form",setup_symfony_basic:"Setup Symfony"}},{name:"registerForm_symfony",route:"\\entrega_0\\instrucciones\\registerForm_symfony"},{name:"setup_symfony_basic",route:"\\entrega_0\\instrucciones\\setup_symfony_basic"}],route:"\\entrega_0\\instrucciones"},{name:"meta.json",meta:{entrega_0:"Inicio",instrucciones:"Instrucciones de inicio",entrega_1:"Entrega 1"}}],route:"\\entrega_0"},{name:"entrega_1",children:[{name:"backend",children:[{name:"API",route:"\\entrega_1\\backend\\API"},{name:"DOCKER",route:"\\entrega_1\\backend\\DOCKER"},{name:"DOCTRINE",route:"\\entrega_1\\backend\\DOCTRINE"},{name:"FIXTURES",route:"\\entrega_1\\backend\\FIXTURES"},{name:"LOGIN",route:"\\entrega_1\\backend\\LOGIN",frontMatter:{name:"Login"}},{name:"OBSTACULOS",route:"\\entrega_1\\backend\\OBSTACULOS"},{name:"RECURSOS",route:"\\entrega_1\\backend\\RECURSOS"}],route:"\\entrega_1\\backend"},{name:"base_de_datos",children:[{name:"bbdd",route:"\\entrega_1\\base_de_datos\\bbdd"}],route:"\\entrega_1\\base_de_datos"},{name:"frontend",children:[{name:"Aplicacion",route:"\\entrega_1\\frontend\\Aplicacion",frontMatter:{name:"Aplicacion"}},{name:"Obstaculos",route:"\\entrega_1\\frontend\\Obstaculos",frontMatter:{name:"Obstaculos"}},{name:"React_Inicio",route:"\\entrega_1\\frontend\\React_Inicio",frontMatter:{name:"React_Inicio"}}],route:"\\entrega_1\\frontend"},{name:"meta.json",meta:{base_de_datos:"Base de datos"}}],route:"\\entrega_1"},{name:"index",route:"\\"},{name:"meta.json",meta:{index:"Proyecto Recipe Me!",entrega_0:"Entrega 0",entrega_1:"Entrega 1"}},{name:"_app",route:"\\_app"}]},c.a))(e)};function p(e){var a=e.components,n=Object(t.a)(e,["components"]);return Object(o.mdx)(m,u(u({},n),{},{components:a,mdxType:"MDXLayout"}),Object(o.mdx)("h1",null,"Circuito de la aplicaci\xf3n"),Object(o.mdx)("p",null,"Para llevar a cabo nuestra idea primeramente hemos pensado en realizar un registro/login para que el usuario pueda, entrar a trav\xe9s del portal o registrarse."),Object(o.mdx)("h2",null,"Login"),Object(o.mdx)("p",null,"Se compone de dos inputs:"),Object(o.mdx)("ol",null,Object(o.mdx)("li",u({},{parentName:"ol"}),"Campo Username (Correo electr\xf3nico)"),Object(o.mdx)("li",u({},{parentName:"ol"}),"Campo Password.")),Object(o.mdx)("p",null,"A nivel de c\xf3digo el Login tiene una variable de estado que controlar\xe1 los inputs y los cambios en este. Que ser\xe1n el email y el password."),Object(o.mdx)("h3",null,"Funciones"),Object(o.mdx)("ul",null,Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"handleChange: Controla los cambios que se produzcan en los inputs y actualiza la variable de estado form con los datos actualizados.")),Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),'iniciarSesion: Esta funci\xf3n es llamada al clickar en el Boton de "Ingresar!", lo que hace la funci\xf3n es hacer una petici\xf3n ajax con la dependencia "axios" a la url de la api'))),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'const baseUrl = "https://localhost:8000/login";\n')),Object(o.mdx)("p",null,"A esta ruta se le envia los datos de usuario por POST en un json"),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),"let jsonPeticion = {\n  email: this.state.form.email,\n  password: this.state.form.password,\n};\n")),Object(o.mdx)("p",null,'Si el Loggin se ha hecho correctamente la respuesta de la API es un json con un id de user y el nombre del usuario, lo que guardamos en una cookie ayudados por la librer\xeda "universal-cookie"'),Object(o.mdx)("p",null,'Si la validaci\xf3n de usuario no ha sido correcta se muestra un alert con la informaci\xf3n "Contrase\xf1a o usuario incorrecto" para no dar pistas a un posible atacante sobre qu\xe9 es lo que ha ido mal.'),Object(o.mdx)("p",null,"Una vez todo a salido correctamente se redigir\xe1 al usuario a la p\xe1gina main de la aplicaci\xf3n"),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'window.location.href = "./main";\n')),Object(o.mdx)("ul",null,Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"registrarse: Este m\xe9todo es llamado cuando se da click al boton de registrarse, lo \xfanico que hace es rederigir al usuario a la p\xe1gina de Registro")),Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"componentDidMount: est\xe1 funci\xf3n se encarga de comprobar si existe un usuario logeado a trav\xe9s de las cookies disponibles, si la cookie existe significa que hay un usuario loggeado y lo redirige automaticamente a la mantalla main."))),Object(o.mdx)("h2",null,"Registro"),Object(o.mdx)("p",null,"Se compone de cuatro inputs:"),Object(o.mdx)("ol",null,Object(o.mdx)("li",u({},{parentName:"ol"}),"Email"),Object(o.mdx)("li",u({},{parentName:"ol"}),"Nombre Completo"),Object(o.mdx)("li",u({},{parentName:"ol"}),"Contrase\xf1a"),Object(o.mdx)("li",u({},{parentName:"ol"}),"Repetir Contrase\xf1a")),Object(o.mdx)("p",null,"Al igual que el loggin, el Register tiene una variable de estado para controlar los inputs que se cumplimentan."),Object(o.mdx)("h3",null,"Funciones"),Object(o.mdx)("ul",null,Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"handChange: Controla los cambios que se produzcan en los inputs y actualiza la variable de estado form con los datos actualizados.")),Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"registrarse: Este m\xe9todo crea primero un json a partir de los datos extraidos del formulario, estos datos a\xfan no est\xe1n validados."))),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),"let jsonPeticion = {\n  email: this.state.form.email,\n  username: this.state.form.nombre,\n  password: md5(this.state.form.password),\n};\n")),Object(o.mdx)("p",null,"Luego se realiza una petici\xf3n a la API al endpoint"),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'const baseUrl = "http://localhost:8000/users";\n')),Object(o.mdx)("p",null,"Si todo va bien el usuario ser\xe1 redirigido a la pantalla de Loggin para que pueda conectarse a su Perfil."),Object(o.mdx)("p",null,'Si algo sale mal le aparecer\xe1 un alert con el texto "Ha ocurrido un error"'),Object(o.mdx)("h2",null,"Main"),Object(o.mdx)("p",null,"El usuario no podr\xe1 acceder al main sin ser validado anteriormente."),Object(o.mdx)("p",null,"Si el usuario intenta entrar al main directamente ser\xe1 rederigido a la pantalla de Login."),Object(o.mdx)("p",null,"El main contiene 3 divs:"),Object(o.mdx)("h3",null,"1 Sidebar.js (Component)"),Object(o.mdx)("p",null,"Este componente renderiza un mapeo de la array que esta en sidebarData.js."),Object(o.mdx)("ul",null,Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"SidebarData contiene la informaci\xf3n de los directorios junto a su path para cuando desde el main cliquemos en el vaya a la ruta que necesita.")),Object(o.mdx)("li",u({},{parentName:"ul"}),Object(o.mdx)("p",u({},{parentName:"li"}),"Este sidebar es pintado en el apartado ./css/main.css"))),Object(o.mdx)("h3",null,"Sidebardata,js(Component)"),Object(o.mdx)("p",null,"Este archivo simplemente contiene un array con la informaci\xf3n que queremos mostrr en nuestro sidebar."),Object(o.mdx)("h3",null,"2 Contenido"),Object(o.mdx)("p",null,"En este div es donde iremos renderizando las diferentes partes de nuestra aplicaci\xf3n mediante el route y switch siendo clicado por Links."),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'\n      <Router>\n        <div className="container">\n          <div className="sideBar">\n            <Sidebar />\n          </div>\n          <div>\n            <Switch>\n              <Route path="/home" exact>\n                <Recetas />\n              </Route>\n            </Switch>\n          </div>\n          <div>\n            <button className="buttonLogout" onClick={()=>this.cerrarSesion()}>\n              Cerrar Sesi\xf3n\n            </button>\n          </div>\n        </div>\n      </Router>\n')),Object(o.mdx)("h2",null,"3 Bot\xf3n cerrar sesi\xf3n"),Object(o.mdx)("ul",null,Object(o.mdx)("li",u({},{parentName:"ul"}),"Toda aplicaci\xf3n tiene un bot\xf3n para poder salir el cual nos devolvera al principio en el apartado de registrarse / login")),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'<button className="buttonLogout" onClick={()=>this.cerrarSesion()}>\nCerrar Sesi\xf3n\n</button>\n')),Object(o.mdx)("pre",null,Object(o.mdx)("code",u({},{className:"language-js",parentName:"pre"}),'  cerrarSesion = () => {\n    cookie.remove("user", { path: "/" });\n    cookie.remove("username", { path: "/" });\n    window.location.href = "./";\n  };\n')),Object(o.mdx)("h2",null,"Recetas"),Object(o.mdx)("p",null,"Dentro del menu de navegaci\xf3n el usuario se encuentra un apartado que muestra todas las recetas que existen en la aplicaci\xf3n.\nEn este componente se deber\xeda hacer una petici\xf3n a la API, la cual a\xfan no est\xe1 implementada, de momento existe un json que imita el formato devuelto por la API para poder hacer las pruebas de desarrollo.\nEl componentes recibe un array de objetos que representan a cada una de las recetas, luego se renderiza cada una de estas recetas en una tarjeta para su correcta visualizaci\xf3n."))}p.isMDXComponent=!0},zVSn:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/entrega_1/frontend/Aplicacion",function(){return n("rKL5")}])}},[["zVSn",0,2,1,3]]]);